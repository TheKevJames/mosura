version: 2.1

orbs:
  linter: talkiq/linter@2
  poetry: talkiq/poetry@3

executors:
  python:
    docker:
      - image: python:3.10.4
    environment:
      JIRA_DOMAIN: https://example.com
      JIRA_USERNAME: mosura-ci
      JIRA_TOKEN: NOPE
      JIRA_PROJECT: MOS
    resource_class: small

workflows:
  run-jobs:
    jobs:
      - linter/pre-commit
      - poetry/run: &pytest
          name: pytest
          cmd: pytest
          executor: python
